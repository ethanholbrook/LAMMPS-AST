# ---------------------------
# LAMMPS Input Script
# Bulk Ni Melting - Continuous Heating 300 K → 2500 K at 10 K/ps
# EAM (Mishin et al., 1999) from OpenKIM
# ---------------------------

# 0. Initialization
units       metal          # time in ps, distance in Angstroms, energy in eV
atom_style  atomic
boundary    p p p

# 1. Create FCC Ni lattice and replicate
variable    latparam equal 3.52   # approximate lattice parameter for Ni (Å)
lattice     fcc ${latparam}
region      box block 0 10 0 10 0 10 units lattice
create_box  1 box
create_atoms 1 box

# 2. EAM potential (Mishin et al. 1999, from OpenKIM)
#    Make sure you have the correct file name for the potential.
pair_style  eam/alloy
pair_coeff  * * Ni_mishin_1999.eam.alloy Ni

# 3. Define neighbor/thermo settings
neighbor    2.0 bin
neigh_modify every 1 delay 0 check yes
thermo      100               # print thermodynamic info every 100 steps
thermo_style custom step temp press pe ke etotal

# 4. Set initial velocities at 600 K
velocity    all create 600.0 12345 mom yes rot yes dist gaussian

# 5. Fix NPT to ramp temperature from 300 K to 2500 K
#    Rate = 10 K/ps. The total ΔT is (2500 - 300) = 2200 K,
#    so total time needed = 2200 K / (10 K/ps) = 220 ps.
#    With 'units metal', 1 ps = 1000 timesteps if dt=1 fs (0.001 ps).
variable    Tstart  equal 300.0
variable    Tfinal  equal 2500.0
variable    Tdelt   equal ${Tfinal}-${Tstart}        # 2200 K
variable    rampPS  equal ${Tdelt}/10.0              # 220 ps
variable    nsteps  equal ${rampPS}*1000             # 220,000 steps at 1 fs

timestep    0.001   # 1 fs in 'metal' units

fix         npt_all all npt temp ${Tstart} ${Tfinal} 0.1 iso 1.0 1.0 1.0
# Explanation of fix npt parameters:
#   temp Tstart Tfinal Tdamp
#   iso  Pstart Pfinal Pdamp
#   T/B damp ~ (100 to 1000 timesteps) or a fraction of total run

# 6. Run the ramp
run         ${nsteps}

# 7. (Optional) Write final state or data
write_data  final_configuration.data
