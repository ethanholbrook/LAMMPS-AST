# LAMMPS script for melting characterization of bulk Ni

units metal
dimension 3
boundary p p p
atom_style atomic

# Create Ni lattice
lattice fcc 3.52
region box block 0 10 0 10 0 10
create_box 1 box
create_atoms 1 box

# Define interatomic potential (Mishin et al. 1999)
kim_init model EAM_Dynamo_Mishin_Ni__MO_127313285837_005 metal
kim_interactions Ni

# Set mass for Ni
mass 1 58.69

# Define minimization to remove excess potential energy
min_style cg
minimize 1.0e-6 1.0e-6 1000 10000

# Define initial velocities at 600 K
velocity all create 600.0 12345 mom yes rot yes dist gaussian

# Equilibrate at 300 K before heating
fix npt_eq all npt temp 300.0 300.0 1.0 iso 1.0 1.0 10.0
thermo 100
run 5000
unfix npt_eq

# Heating from 300 K to 2500 K at 10 K per ps
variable Tstart equal 300.0
variable Tend equal 2500.0
variable Trate equal 10.0 # K per ps
variable timesteps equal (v.Tend - v.Tstart) / v.Trate * 1000 # Convert ps to steps

fix heating all npt temp ${Tstart} ${Tend} 1.0 iso 1.0 1.0 10.0
thermo 100
run ${timesteps}
unfix heating

# Output final structure and thermodynamic data
write_data final_structure.data
write_dump all custom final_config.dump id type x y z vx vy vz
