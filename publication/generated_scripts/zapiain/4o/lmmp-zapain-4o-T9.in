# Initialize a simulation with 16 tungsten atoms in a BCC lattice

# Set up MPI environment (use if MPI is enabled)
#use_mpi = "yes"  # Uncomment and set to "yes" if MPI is being used

# Package-specific settings
package mliap

# Set computational parameters
units           metal
dimension       3
boundary        p p p
atom_style      atomic

# Define lattice and create simulation box
lattice         bcc 3.16
region          box block 0 2 0 2 0 2
create_box      1 box
create_atoms    1 box

# Define masses
mass            1 183.84  # Atomic mass of tungsten

# Define interatomic potential (ensure the potential file is in your working directory)
# Example potential command, replace 'potential_file' with actual filename
pair_style      eam/alloy
pair_coeff      * * W.potential W

# Set initial velocities to equilibrate at 3000K
velocity        all create 3000.0 12345 mom yes rot yes

# Set system constraints
fix             1 all nve

# Output settings
thermo          10
thermo_style    custom step temp pe ke etotal

# Dump settings for output
dump            1 all atom 75 dump_w.lammpstrj

# Run the simulation
timestep        0.00015  # Example timestep in ps (adjust as needed)
run             50000    # 7.5 ps (50000 steps at 0.00015 ps/step)

# Get some important details on the simulation run
write_restart   tungsten_equilibrated.restart

unfix           1
undump          1

# Note:
# - Ensure you have the correct potential file and that it is correctly referenced.
# - Modify the 'pair_style' and 'pair_coeff' commands according to your chosen potential.
# - Ensure you are using the compiled version of LAMMPS with ML-IAP, PYTHON, and ML-SNAP if applicable.
# - Adjust timestep based on the stability of your simulation.