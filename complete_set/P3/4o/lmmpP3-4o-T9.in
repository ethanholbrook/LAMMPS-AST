# LAMMPS script for spall failure simulation of Nb single crystals

units           metal
dimension       3
boundary        p p f
atom_style      atomic

# Initialize lattice and create atoms for Nb BCC
lattice         bcc 3.300
region          projectile block 0 20 0 20 0 20 units lattice
region          target block 0 20 0 20 21 61 units lattice
region          gap block 0 20 0 20 20 21 units lattice

create_box      2 all
create_atoms    1 region projectile
create_atoms    2 region target

# Define potential
pair_style      eam
pair_coeff      * * Nb.eam.alloy Nb Nb

# Group atoms
group           proj region projectile
group           targ region target

# Apply initial thermal velocities at 300 K
velocity        all create 300.0 12345 mom yes rot yes dist gaussian

# Equilibrate the system for 100 ps using NVT
fix             equilibration all nvt temp 300.0 300.0 0.1
timestep        0.001
thermo          100
run             100000

# Remove thermostat for adiabatic MD and set initial velocity for impact
unfix           equilibration
velocity        proj set 0.0 0.0 -2000.0 sum yes

# Run the simulation adiabatically
fix             impact all nve
run             50000

# Output settings
dump            1 all atom 100 dump.spall
dump_modify     1 scale yes
